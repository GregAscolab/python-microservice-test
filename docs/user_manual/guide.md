# User Manual

## 1. Introduction

This guide provides complete instructions for setting up the necessary prerequisites, installing the application dependencies, and running the full microservice suite. Following this guide will allow you to run the application on your local machine for development or testing purposes.

## 2. System Requirements

Before you begin, ensure your system has the following software installed:

-   **Python:** Version 3.9 or higher.
-   **pip:** The Python package installer (usually comes with Python).
-   **Docker:** (Recommended) For easily running the NATS server. If you cannot use Docker, you can [install a native NATS server](https://docs.nats.io/nats-server/installation).
-   **Git:** For cloning the application repository.

## 3. Installation

Follow these steps to get the application ready to run.

### Step 1: Clone the Repository

Open a terminal and clone the repository to your local machine.

```bash
# Replace <repository_url> with the actual URL of the git repository
git clone <repository_url>
cd <repository_directory>
```

### Step 2: Install Python Dependencies

The project uses a set of Python packages listed in the `requirements.txt` file. Install them using `pip`.

```bash
pip install -r requirements.txt
```

### Step 3: Set Up the NATS Server

The microservices require a NATS server for communication. The application is configured to connect to a server at `nats://localhost:4222` by default. The easiest way to run one is by using Docker.

```bash
docker run --name nats-main -p 4222:4222 -p 6222:6222 -p 8222:8222 nats:latest
```

This command starts a NATS server in a Docker container named `nats-main` and exposes the necessary ports:
-   `4222`: For client connections from the services.
-   `6222`: For server-to-server routing (not used in this setup).
-   `8222`: For HTTP monitoring. You can check the server status at `http://localhost:8222`.

## 4. Running the Application

The entire application is started via a single entry point: the `main.py` script at the root of the repository. This script starts the **Manager Service**, which then automatically discovers and starts all the other services in the correct order.

### To Start the Application:

In your terminal, from the root directory of the project, run:

```bash
python main.py
```

### Expected Output

You will see logs from the `manager` service first as it starts up. It will then discover and launch the other services, starting with the critical `settings_service`. Subsequently, you will see interleaved logs from all the individual services as they initialize and start their tasks.

### Accessing the UI

Once the `ui_service` has started, you can access the web interface by navigating your browser to the address shown in its startup logs. The default address is:

**`http://localhost:8000`**

## 5. Monitoring the Application

There are several ways to monitor the health and status of the application:

-   **Console Logs:** The primary way to monitor the application is by observing the console output from the `main.py` script. All logs (`INFO`, `WARNING`, `ERROR`, etc.) from all services are streamed to this single console in real-time.
-   **UI Service "Manager" Page:** The web interface has a dedicated page for monitoring the status of all microservices. This page visualizes the data from the `manager.status` NATS subject, showing which services are running, stopped, or have crashed.
-   **UI Service "Logs" Page:** The UI also provides a page where you can view the historical log files (`.log`) generated by each service. This is useful for debugging a specific service without having to find the file on the server.

## 6. Stopping the Application

To stop the entire application, press `Ctrl+C` in the terminal where the `main.py` script is running. The Manager Service is designed to intercept this shutdown signal and perform a graceful shutdown of all the services it started before exiting.
